@page
@model EmpDash.Pages.LogTicketModel
@{
    ViewData["Title"] = "Log a Ticket";
}


<form method="post">
    <div class="form-group">
        <label for="title">Title</label>
        <input type="text" class="form-control" id="title" asp-for="Ticket.Title" required>
    </div>
    <div class="form-group">
        <label for="description">Description</label>
        <textarea class="form-control" id="description" asp-for="Ticket.Description" rows="3" required></textarea>
    </div>
    <div class="form-group">
        <label for="priority">Priority</label>
        <select class="form-control" id="priority" asp-for="Ticket.Priority">
            <option value="Low">Low</option>
            <option value="Medium">Medium</option>
            <option value="High">High</option>
        </select>
    </div>
    <button type="submit" class="btn btn-primary">Submit</button>
</form>

<div id="snackbar" class="snackbar">Ticket successfully logged!</div>

<script>
    function showSnackbar() {
        var snackbar = document.getElementById("snackbar");
        snackbar.classList.add("show");
        setTimeout(function () {
            snackbar.classList.remove("show");
        }, 3000);
    }

    // Call showSnackbar() when the form is successfully submitted
    document.querySelector("form").addEventListener("submit", function (event) {
        showSnackbar();
    });
</script>

@if (TempData["ShowSnackbar"] != null && (bool)TempData["ShowSnackbar"])
{
    <script>
        window.onload = function () {
            showSnackbar();
        };
    </script>
}

